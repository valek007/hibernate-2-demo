# Анализ структуры БД

В ходе анализа структуры базы данных Sakila выявлены следующие потенциальные проблемные места:

1. **film_text.film_id**
    - Нет FOREIGN KEY на film(film_id). Возможны записи без соответствующего фильма.

2. **Отсутствие ограничений уникальности на email**
    - В таблицах customer и staff email не уникален, что может привести к дублированию.

3. **Отсутствие CHECK constraints**
    - Поля типа amount, rental_duration и т.п. могут принимать некорректные значения.

4. **Возможное отсутствие FOREIGN KEY в кастомных схемах**
    - inventory.film_id, inventory.store_id, rental.inventory_id и др. могут ссылаться на несуществующие записи.

Рекомендации по улучшению:
- Добавить недостающие FK там, где логично.
- Добавить уникальные ограничения на email.
- Добавить CHECK constraints для числовых полей.
- Рассмотреть ON DELETE CASCADE для связанных таблиц.
- Использовать NOT NULL для обязательных полей.
